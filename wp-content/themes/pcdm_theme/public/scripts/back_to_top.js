// Generated by CoffeeScript 1.6.3
(function() {
  var __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  window.BackToTop = (function() {
    function BackToTop(btn) {
      this.btn = btn;
      this.onResize = __bind(this.onResize, this);
      this.onScroll = __bind(this.onScroll, this);
      this.onBtnClick = __bind(this.onBtnClick, this);
      this.w = $(window);
      this.bottom_offset = 50;
      this.is_off = true;
      this.btn.bind('click', this.onBtnClick);
    }

    BackToTop.prototype.onBtnClick = function(e) {
      var _this = this;
      e.preventDefault();
      if (this.w.scrollTop() !== 0) {
        TweenLite.to(window, 1.5, {
          scrollTo: {
            y: 0
          },
          ease: Power4.easeInOut,
          onComplete: (function() {
            return _this.is_off = true;
          })
        });
        return TweenLite.to(this.btn, .5, {
          css: {
            opacity: '0'
          },
          easing: Power4.easeOut
        });
      }
    };

    BackToTop.prototype.onScroll = function(val) {
      if (val !== 0 && this.is_off) {
        this.is_off = false;
        return TweenLite.to(this.btn, .5, {
          css: {
            opacity: '1'
          },
          easing: Power4.easeOut
        });
      } else if (val === 0 && !this.is_off) {
        this.is_off = true;
        return TweenLite.to(this.btn, .5, {
          css: {
            opacity: '0'
          },
          easing: Power4.easeOut
        });
      }
    };

    BackToTop.prototype.onResize = function(val) {
      return this.btn.css({
        top: "" + (val - this.btn.height() - this.bottom_offset) + "px"
      });
    };

    return BackToTop;

  })();

}).call(this);
