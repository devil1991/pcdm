(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.HeaderMenu=function(){function e(e){this.ref=e,this.onScroll=t(this.onScroll,this),this.onDropdownItemOut=t(this.onDropdownItemOut,this),this.onDropdownItemOver=t(this.onDropdownItemOver,this),this.onDropdownElementOut=t(this.onDropdownElementOut,this),this.onDropdownElementOver=t(this.onDropdownElementOver,this),this.logo=this.ref.find(".logo"),this.dropdown_elements=this.ref.find(".right-navigation .wrap-navbar .first-level >li.dropdown"),this.active_item,this.scroll_threshold=this.ref.height(),this.logo_h=parseInt(this.logo.css("top"))+this.logo.height(),this.logo_speed=this.logo_h/this.ref.height(),this.small_h=window.small_header_height,this.is_small=!1,this.dur=1,is_smartphone||this.dropdown_elements.length>0&&this.setDropdownElements()}return e.prototype.setDropdownElements=function(){var t,e,o,s,r,i,n,h,a;for(a=[],o=n=0,h=this.dropdown_elements.length;h>=0?h>n:n>h;o=h>=0?++n:--n)e=$(this.dropdown_elements[o]),t=e.find(".wrap-dropdown-menu"),e.attr("data-height",t.height()),e.bind("mouseenter",this.onDropdownElementOver),e.bind("mouseleave",this.onDropdownElementOut),t.hide(),t.css({opacity:"0",height:"0"}),r=t.find(".dropdown-menu >li >a"),a.push(function(){var t,e,o;for(o=[],i=t=0,e=r.length;e>=0?e>t:t>e;i=e>=0?++t:--t)s=$(r[i]),void 0===this.arrow_w&&(this.arrow_w=s.find(".arrow-left").width()),s.hasClass("active")&&(this.active_item=s,s.bind("click",function(t){return t.preventDefault()})),s.hasClass("active")?o.push(void 0):(s.bind("mouseenter",this.onDropdownItemOver),o.push(s.bind("mouseleave",this.onDropdownItemOut)));return o}.call(this));return a},e.prototype.onDropdownElementOver=function(t){var e,o;return o=$(t.currentTarget),o.addClass("opened"),e=o.find(".wrap-dropdown-menu"),e.show(),TweenLite.to(e,this.dur,{css:{opacity:"1",height:""+o.attr("data-height")+"px"},ease:Power4.easeInOut})},e.prototype.onDropdownElementOut=function(t){var e,o;return o=$(t.currentTarget),o.removeClass("opened"),e=o.find(".wrap-dropdown-menu"),TweenLite.to(e,this.dur,{css:{opacity:"0",height:"0"},ease:Power4.easeInOut,onComplete:function(){return e.hide()}})},e.prototype.onDropdownItemOver=function(t){var e;return e=$(t.currentTarget),this.moveItemArrows(e,1),this.moveItemArrows(this.active_item,-1)},e.prototype.onDropdownItemOut=function(t){var e;return e=$(t.currentTarget),this.moveItemArrows(e,-1),this.moveItemArrows(this.active_item,1)},e.prototype.moveItemArrows=function(t,e){var o,s;return o=t.find(".arrow-left"),s=t.find(".arrow-right"),e>0?(TweenLite.to(o,.75*this.dur,{css:{left:"0"},ease:Power4.easeInOut}),TweenLite.to(s,.75*this.dur,{css:{right:"0"},ease:Power4.easeInOut})):(TweenLite.to(o,.75*this.dur,{css:{left:""+-this.arrow_w+"px"},ease:Power4.easeInOut}),TweenLite.to(s,.75*this.dur,{css:{right:""+-this.arrow_w+"px"},ease:Power4.easeInOut}))},e.prototype.onScroll=function(t){var e,o=this;if(!is_mobile){if(e=Math.max(0,Math.min(t,this.scroll_threshold)),this.logo.css({"margin-top":""+-this.logo_speed*e+"px"}),e>=this.scroll_threshold&&!this.is_small)return this.is_small=!0,this.ref.addClass("header-small"),this.ref.css({top:""+-this.small_h+"px"}),TweenLite.to(this.ref,this.dur,{css:{top:"0"},ease:Power4.easeInOut});if(this.scroll_threshold>e&&this.is_small)return this.is_small=!1,TweenLite.to(this.ref,.5*this.dur,{css:{top:""+-this.small_h+"px"},ease:Power4.easeIn,onComplete:function(){return o.ref.removeClass("header-small"),o.ref.css({top:""+-o.logo_h+"px"}),TweenLite.to(o.ref,.75*o.dur,{css:{top:"0"},ease:Power4.easeOut})}})}},e}()}).call(this);
