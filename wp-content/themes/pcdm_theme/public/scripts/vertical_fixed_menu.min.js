(function(){var t=function(t,s){return function(){return t.apply(s,arguments)}};window.VerticalFixedMenu=function(){function s(s){this.ref=s,this.jumpToSection=t(this.jumpToSection,this),this.onScroll=t(this.onScroll,this),this.w=$("window"),this.buttons=this.ref.find(".js-vertical-fixed-menu-items >li >a"),this.sections_container=$(".js-vertical-fixed-menu-sections"),this.sections=this.sections_container.find(">div"),this.top=this.ref.css("top"),this.threshold=this.sections_container.height()-this.ref.height(),this.current_id="",is_mobile&&(this.ref.addClass("no-fixed"),this.ref.css({top:"0px"}),this.ref.find("nav.shop-nav").css({visibility:"hidden"})),this.setInteractions()}return s.prototype.onScroll=function(t){var s,i,e,o,n;for(is_mobile||(t>this.threshold?this.ref.hasClass("no-fixed")||(this.ref.addClass("no-fixed"),this.ref.css({top:""+this.threshold+"px"})):this.ref.hasClass("no-fixed")&&(this.ref.removeClass("no-fixed"),this.ref.css({top:this.top}))),i=o=0,n=this.buttons.length;n>=0?n>o:o>n;i=n>=0?++o:--o)s=$(this.buttons[i]),t>=this.getSectionTopByButton(s)&&(e=s.attr("href").substring(1));return e!==this.current_id?(this.current_id=e,this.setButtonActive()):void 0},s.prototype.setInteractions=function(){return this.buttons.bind("click",this.jumpToSection)},s.prototype.setButtonActive=function(){var t,s,i,e,o,n;for(n=[],s=e=0,o=this.buttons.length;o>=0?o>e:e>o;s=o>=0?++e:--e)t=$(this.buttons[s]),i=t.attr("href").substring(1),i===this.current_id?n.push(t.addClass("current")):t.hasClass("current")?n.push(t.removeClass("current")):n.push(void 0);return n},s.prototype.jumpToSection=function(t){var s,i;return t.preventDefault(),s=$(t.currentTarget),s.hasClass("active")||(i=this.getSectionTopByButton(s),i===this.w.scrollTop())?void 0:TweenLite.to(window,2,{scrollTo:{y:i},ease:Power4.easeInOut})},s.prototype.getSectionTopByButton=function(t){var s,i,e;return s=t.attr("href").substring(1),i=$("#"+s),e=Math.floor(i.offset().top-small_header_height+1),s===$(this.sections[0]).attr("id")&&(e=0),e},s.prototype.getSectionTopById=function(t){var s,i;return s=$("#"+t),i=Math.floor(s.offset().top-small_header_height+1),t===$(this.sections[0]).attr("id")&&(i=0),i},s}()}).call(this);
