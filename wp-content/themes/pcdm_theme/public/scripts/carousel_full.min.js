(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};window.CarouselFull=function(){function i(i){this.ref=i,this.onSliderMoved=t(this.onSliderMoved,this),this.onSwipe=t(this.onSwipe,this),this.onWaitTimeout=t(this.onWaitTimeout,this),this.onNavigatorBtnClick=t(this.onNavigatorBtnClick,this),this.onCounterBulletClick=t(this.onCounterBulletClick,this),this.carousel_ref=this.ref.find(".carousel"),this.items=this.carousel_ref.find("> li"),this.counter_ref=this.ref.find(".js-counter"),this.navigator_ref=this.ref.find(".navigator"),this.navigator_ref.length>0&&(this.prev_btn=this.navigator_ref.find(".previous"),this.next_btn=this.navigator_ref.find(".next")),this.progress_ref=this.navigator_ref.find(".text-counter"),this.progress_ref.length>0&&(this.progress_current=this.progress_ref.find(".current"),this.progress_total=this.progress_ref.find(".total")),this.current=0,this.duration=1.5,this.wait_timeout=0,this.wait_duration=5e3,this.is_enabled=!0,this.setElements(),this.has_counter=this.has_navigator=this.has_progress=this.has_autoplay=!1,this.counter_ref.length>0&&this.setCounter(),this.navigator_ref.length>0&&this.setNavigator(),this.progress_ref.length>0&&this.setProgress(),this.ref.hasClass("js-autoplay")&&this.setAutoPlay(),is_mobile||this.ref.bind("dragstart",function(t){return t.preventDefault()}),this.ref.hasClass("js-swipe")&&this.items.length>1&&this.ref.swipe({swipe:this.onSwipe,threshold:100,allowPageScroll:"vertical"})}return i.prototype.setElements=function(){var t,i,e,s,r,n;for(this.carousel_ref.css({width:""+100*this.items.length+"%"}),i=r=0,n=this.items.length;n>=0?n>r:r>n;i=n>=0?++r:--r)e=$(this.items[i]),e.css({width:""+100/this.items.length+"%"});return t=$(this.items[0]).clone(),this.carousel_ref.append(t),s=$(this.items[this.items.length-1]).clone(),s.insertBefore($(this.items[0])),this.carousel_ref.css({left:"-100%"})},i.prototype.setCounter=function(){var t,i,e,s,r,n,o;if(i=this.counter_ref.find("li"),2>i.length)return this.counter_ref.hide();for(this.has_counter=!0,o=[],e=r=0,n=i.length;n>=0?n>r:r>n;e=n>=0?++r:--r)t=$(i[e]),i.bind("click",this.onCounterBulletClick),s=t.find("a"),o.push(s.bind("click",function(t){return t.preventDefault()}));return o},i.prototype.onCounterBulletClick=function(t){var i,e;return t.preventDefault(),this.is_enabled&&(e=$(t.currentTarget).index(),e!==this.current)?(i=e-this.current,this.moveSlider(i)):void 0},i.prototype.setNavigator=function(){var t=this;return this.items.length>1&&this.prev_btn.length>0&&this.next_btn.length>0?(this.has_navigator=!0,this.prev_btn.bind("click",function(i){return t.onNavigatorBtnClick(i,-1)}),this.next_btn.bind("click",function(i){return t.onNavigatorBtnClick(i,1)})):this.navigator_ref.hide()},i.prototype.onNavigatorBtnClick=function(t,i){return t.preventDefault(),this.is_enabled&&!$(t.currentTarget).hasClass("disabled")?this.moveSlider(i):void 0},i.prototype.setProgress=function(){return this.progress_current.length>0&&this.progress_total.length>0?(this.has_progress=!0,this.progress_current.text(this.current+1),this.progress_total.text(this.items.length)):void 0},i.prototype.setAutoPlay=function(){return this.items.length>1?(this.has_autoplay=!0,this.startAutoPlay()):void 0},i.prototype.startAutoPlay=function(){return this.wait_timeout=window.setTimeout(this.onWaitTimeout,this.wait_duration)},i.prototype.stopAutoPlay=function(){return window.clearTimeout(this.wait_timeout)},i.prototype.onWaitTimeout=function(){return this.is_enabled?this.moveSlider(1):void 0},i.prototype.onSwipe=function(t,i){var e;return this.is_enabled?(e="left"===i?1:"right"===i?-1:void 0,this.moveSlider(e)):void 0},i.prototype.moveSlider=function(t){return this.is_enabled=!1,this.has_counter&&this.counter_ref.find("li a.active").toggleClass("active"),this.has_navigator&&this.navigator_ref.find("li a.disabled").toggleClass("disabled"),this.has_autoplay&&this.stopAutoPlay(),this.current=this.current+t,TweenLite.to(this.carousel_ref,this.duration,{css:{left:""+-100*(this.current+1)+"%"},ease:Power4.easeInOut,onComplete:this.onSliderMoved})},i.prototype.onSliderMoved=function(){return this.current===this.items.length?(this.current=0,this.carousel_ref.css({left:"-100%"})):-1===this.current&&(this.current=this.items.length-1,this.carousel_ref.css({left:""+-100*(this.current+1)+"%"})),this.has_counter&&this.counter_ref.find("li:eq("+this.current+") a").toggleClass("active"),this.has_navigator&&(0===this.current?this.prev_btn.addClass("disabled"):this.current===this.items.length-1&&this.next_btn.addClass("disabled")),this.has_progress&&this.progress_current.text(this.current+1),this.has_autoplay&&this.startAutoPlay(),this.is_enabled=!0},i}()}).call(this);
