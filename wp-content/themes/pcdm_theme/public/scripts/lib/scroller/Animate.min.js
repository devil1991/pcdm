(function(n){var r=Date.now||function(){return+new Date},e=60,t=1e3,u={},o=1;n.core?core.effect||(core.effect={}):n.core={effect:{}},core.effect.Animate={stop:function(n){var r=null!=u[n];return r&&(u[n]=null),r},isRunning:function(n){return null!=u[n]},start:function(n,i,a,f,c,l){var v=r(),m=v,s=0,d=0,h=o++;if(l||(l=document.body),0===h%20){var A={};for(var q in u)A[q]=!0;u=A}var w=function(o){var A=o!==!0,q=r();if(!u[h]||i&&!i(h))return u[h]=null,a&&a(e-d/((q-v)/t),h,!1),void 0;if(A)for(var D=Math.round((q-m)/(t/e))-1,F=0;Math.min(D,4)>F;F++)w(!0),d++;f&&(s=(q-v)/f,s>1&&(s=1));var M=c?c(s):s;n(M,q,A)!==!1&&1!==s||!A?A&&(m=q,requestAnimationFrame(w,l)):(u[h]=null,a&&a(e-d/((q-v)/t),h,1===s||null==f))};return u[h]=!0,requestAnimationFrame(w,l),h}}})(this);
