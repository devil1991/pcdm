(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};window.AjaxController=function(){function t(t){this.ref=t,this.window=$(window),this.doc=$(document),this.body=$("body"),this.contentContainer="#ajaxed-wrap",this.ajaxloading=!1,this.dataTemp=$("<div>"),this.preloader=$("#preloader"),this.animationEndEventNames={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",animation:"animationend"},this.animationEndEventName=this.animationEndEventNames[Modernizr.prefixed("animation")],this.init()}return t.prototype.init=function(){},t.prototype.loadurl=function(t){var e;return this.ajaxloading?void 0:(this.ajaxloading=!0,this.preloader.addClass("loading"),e=$.ajax({url:t,type:"GET",dataType:"text",cache:!0}),e.done(function(e){return function(n){var o;return e.dataTemp.html(n),o=e.dataTemp.find("title").html(),console.log(o),e.dataTemp=e.dataTemp.find("#ajaxed-wrap"),e.setUrl(t,o),e.initializeView(e.dataTemp),e.ajaxloading=!1,e.preloader.removeClass("loading")}}(this)))},t.prototype.setUrl=function(t,e){return History.pushState(null,e,t)},t.prototype.initializeView=function(t){var e,n,o,i;switch(n=t.children(),i=null,n.hasClass("single-product")&&(i="single-product"),n.hasClass("product-catalog")&&(i="product-catalog"),i){case"single-product":return e=this.ref.find(".single-product__image"),o=this.ref.find(".single-product__wrap-text"),o.addClass("fadeOutLeftBig"),e.addClass("fadeOutLeftBig"),Modernizr.cssanimations?e.one(this.animationEndEventName,function(t){return function(e){return t.ref.html(n),t.preloader.removeClass("loading"),new SocialSharing($(".js-sharing")),$(".wrap-dropdown-menu").attr("style",""),window.header_menu=new HeaderMenu($(".header"))}}(this)):(this.ref.html(n),this.preloader.removeClass("loading"),new SocialSharing($(".js-sharing")),$(".wrap-dropdown-menu").attr("style",""),window.header_menu=new HeaderMenu($(".header")));break;case"product-catalog":return console.log("products")}},t.prototype.destroy=function(){},t}(),window.Catalog=function(){function e(e){this.ref=e,this.loadVimeo=t(this.loadVimeo,this),this.window=$(window),this.doc=$(document),this.body=$("body"),this.selectors={introtext:this.ref.find(".product-catalog__item__text"),products:this.ref.find(".product-catalog__item"),vimeolink:this.ref.find(".intro-text__link")},this.vimeoCont=$("#video-container"),this.player=null,this.loadVimeo(this.selectors.vimeolink.attr("data-vimeo-overlay")),this.init()}return e.prototype.init=function(){return this.setListners(),this.setTimers()},e.prototype.setListners=function(){var t;return t=this.selectors.introtext.offset().top,this.window.on("scroll.catalog",function(e){return function(n){var o;return o=e.window.scrollTop(),o>=t?e.selectors.introtext.addClass("fade-out"):e.selectors.introtext.removeClass("fade-out")}}(this)),this.doc.on("click touchend",".intro-text__link, #video-container .video-container__close",function(t){return function(e){var n;return e.preventDefault(),n=$(e.currentTarget),n.hasClass("intro-text__link")&&(t.vimeoCont.addClass("show"),TweenLite.fromTo(t.vimeoCont.get(0),1.2,{css:{opacity:0},ease:Power2.easeInOut},{css:{opacity:1}}),t.player.api("play")),n.hasClass("video-container__close")?(t.vimeoCont.removeClass("show"),t.player.api("pause")):void 0}}(this))},e.prototype.setTimers=function(){return clearInterval(this.randomAnimateInterval),clearTimeout(this.randomAnimateTimeout),this.randomAnimateInterval=setInterval(function(t){return function(){var e;return e=$(t.getRandomProduct()),e.addClass("animate-gif"),t.randomAnimateTimeout=setTimeout(function(){return e.removeClass("animate-gif")},600)}}(this),1100)},e.prototype.getRandomProduct=function(){return this.selectors.products[Math.floor(Math.random()*this.selectors.products.length)]},e.prototype.loadVimeo=function(t){return $.ajax({url:"http://vimeo.com/api/oembed.json",data:{url:t}}).done(function(t){return function(e){var n;return t.vimeoCont.children(".video-container__inner").html(e.html),n=t.vimeoCont.find("iframe"),t.player=$f(n.get(0)),console.log(t.player)}}(this))},e.prototype.destroy=function(){},e}(),window.Product=function(){function t(t){this.ref=t,this.window=$(window),this.doc=$(document),this.body=$("body"),this.container=$("#single-product-cont"),this.selectors={introtext:this.ref.find(".product-catalog__item__text"),products:this.ref.find(".product-catalog__item"),paginator:this.ref.find(".paginator")},this.init()}return t.prototype.init=function(){return this.setListners(),this.movebg(2)},t.prototype.movebg=function(t){return this.container.css({"background-position-x":-1*t*200})},t.prototype.setListners=function(){return this.doc.on("click.product",".paginator a",function(t){return function(t){var e;return t.preventDefault(),e=$(t.currentTarget),console.log(e),window.ajaxcontrollerObj.loadurl(e.attr("href"))}}(this))},t.prototype.destroy=function(){},t}(),window.console||(window.console={log:function(t){}}),$(function(){var t,e,n,o,i,r,a;return a=$(window),i=$(document),o=$("body"),r=$("#preloader"),r.addClass("loading"),a.on("load",function(t){return r.removeClass("loading"),o.addClass("loaded")}),t=$("#ajaxed-wrap"),t.length&&(window.ajaxcontrollerObj=new AjaxController(t)),e=$(".template-catalog-fixed.archive"),e.length&&(window.catalogObj=new Catalog(e)),n=$(".template-catalog-fixed.single"),n.length?window.singleObj=new Product(n):void 0})}).call(this);